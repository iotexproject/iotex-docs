(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{630:function(e,t,a){"use strict";a.r(t);var o=a(38),r=Object(o.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"connect-to-your-backend-service"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#connect-to-your-backend-service"}},[e._v("#")]),e._v(" Connect to your Backend Service")]),e._v(" "),a("h2",{attrs:{id:"prerequisites"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites"}},[e._v("#")]),e._v(" Prerequisites")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("Make sure you have the Pebble Firmware development environment configured on your machine: see the "),a("strong",[e._v("Develop and Build the Firmware")]),e._v(" documentation for "),a("a",{attrs:{href:"pebble-build-windows"}},[e._v("windows")]),e._v(" or "),a("a",{attrs:{href:"pebble-build-linux"}},[e._v("Linux/MacOs")]),e._v(".")])]),e._v(" "),a("li",[a("p",[e._v("Make sure you can acess your Pebble Backend service "),a("strong",[e._v("on a public ip address")]),e._v(": you can deploy your own Backend server by following "),a("a",{attrs:{href:"pebble-backend-configuration"}},[e._v("the Pebble Backend Configuration")]),e._v(" guide.")])])]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),a("p",[e._v("If you don't have access to a cloud server, you can still deploy the backend on a server in your local network, and use tools like "),a("a",{attrs:{href:"https://ngrok.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("ngrok"),a("OutboundLink")],1),e._v(" or "),a("a",{attrs:{href:"https://www.noip.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("no-ip"),a("OutboundLink")],1),e._v(" to make it publicly accessible.")])]),e._v(" "),a("h2",{attrs:{id:"configure-the-firmware-to-connect-to-backend"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configure-the-firmware-to-connect-to-backend"}},[e._v("#")]),e._v(" Configure the Firmware to connect to backend")]),e._v(" "),a("p",[e._v("In order to have Pebble data sent to the IoTeX Pebble Backend you only need to configure the "),a("code",[e._v("MQTT_BROKER_HOSTNAME")]),e._v(" setting in the firmware configuration with the ip address or the url of the pebble backend you want to use (set it to "),a("code",[e._v("trypebble.io")]),e._v(" if you want to use the IoTeX Public Backend, this is the factory default).")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("Follow the [Pebble Firmware Configuration][pebble-firmware-configure] guide to start the firmware configuration tool, find the "),a("code",[e._v("MQTT_BROKER_HOSTNAME")]),e._v(" setting and configure it with your backend url. Also find the "),a("code",[e._v("MQTT_BROKER_PORT")]),e._v(" setting and make sure it's configured with the correct hmq port - 1884 is the default)")])]),e._v(" "),a("li",[a("p",[e._v("Save the configuration and build the firmware (see instructions for "),a("RouterLink",{attrs:{to:"/developer/hardware/pebble-build-windows.html#build-pebble-tracker-application-firmware"}},[e._v("Windows")]),e._v(" or "),a("RouterLink",{attrs:{to:"/developer/hardware/pebble-build-linux.html#compile-project-with-command-line"}},[e._v("Linux/MacOS")]),e._v(")")],1)]),e._v(" "),a("li",[a("p",[a("a",{attrs:{href:"pebble-flash"}},[e._v("Flash the firmware")]),e._v(" in your Pebble")])])]),e._v(" "),a("h2",{attrs:{id:"visualize-the-data"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#visualize-the-data"}},[e._v("#")]),e._v(" Visualize the data")]),e._v(" "),a("p",[e._v("Once your device is restarted and connected to the Internet, it will immediately start sending data to the IoTeX Backend: if you deployed your own Backend server, please make sure that it's accessible from a public ip address, and that the ports 1884 and 8080 are open for the MQTT broker and Thingsboard services respectively.")]),e._v(" "),a("p",[e._v("Access the backend Thingsboard at "),a("a",{attrs:{href:"http://trypebble.io",target:"_blank",rel:"noopener noreferrer"}},[e._v("trypebble.io"),a("OutboundLink")],1),e._v(" (or your custom beckend url on port 8080) and use the default username and password: "),a("strong",[e._v("Username")]),e._v(": "),a("code",[e._v("tenant@thingsboard.org")]),e._v(" "),a("strong",[e._v("Password")]),e._v(": "),a("code",[e._v("tenant")]),e._v(".")]),e._v(" "),a("p",[a("img",{attrs:{src:"/img/developer/pebble-backend/thingsboard-login.png",alt:""}})]),e._v(" "),a("p",[e._v("In the navigation panle, click on "),a("strong",[e._v("devices")]),e._v(": you should see your Pebble among the listed devices, with label "),a("code",[e._v("nrf-...")]),e._v(" followed by the IMEI number:")]),e._v(" "),a("p",[a("img",{attrs:{src:"/img/developer/pebble-backend/thingsboard-device.png",alt:""}})]),e._v(" "),a("p",[e._v("In the navigation panle, click on "),a("strong",[e._v("dashboards")]),e._v(" and select the Pebble Tracked dashboard to see the incoming data:")]),e._v(" "),a("p",[a("img",{attrs:{src:"/img/developer/pebble-backend/thingsboard-dashboard.png",alt:""}})]),e._v(" "),a("h2",{attrs:{id:"configure-data-collection"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configure-data-collection"}},[e._v("#")]),e._v(" Configure Data Collection")]),e._v(" "),a("p",[e._v("Inside the Dashboard you can send MQTT messages to configure Pebble using the "),a("code",[e._v("Config Me")]),e._v(" button: in the configuration dialog you can enable/disable each measurement, as well as change the data upload interval. Click "),a("code",[e._v("OK")]),e._v(" button to send the configuration: the new settings will be enabled as soon as the message reaches the board:")]),e._v(" "),a("p",[a("img",{attrs:{src:"/img/developer/pebble-backend/thingsboard-config-me.png",alt:""}})]),e._v(" "),a("h2",{attrs:{id:"find-your-pebble"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#find-your-pebble"}},[e._v("#")]),e._v(" "),a("em",[e._v('"Find your Pebble"')])]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("Beep me")]),e._v("button can be used to make Pebble play a sound: click the "),a("code",[e._v("Beep Me")]),e._v(" button, then click "),a("code",[e._v("OK")]),e._v(': after a few second a "beep" sound will be emitted by the onboard buzzer:')]),e._v(" "),a("p",[a("img",{attrs:{src:"/img/developer/pebble-backend/thingsboard-beep-me.png",alt:""}})])])}),[],!1,null,null,null);t.default=r.exports}}]);