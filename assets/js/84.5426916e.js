(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{669:function(e,s,t){"use strict";t.r(s);var n=t(38),a=Object(n.a)({},(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"pylon-introduction"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pylon-introduction"}},[e._v("#")]),e._v(" Pylon Introduction")]),e._v(" "),t("p",[e._v("Pylon is a full-stack starter for building IoTeX Dapps. Here are the features you’ll find in Pylon:")]),e._v(" "),t("ul",[t("li",[e._v("Out-of-box integration with IoTeX antenna SDK and ioPay wallet")]),e._v(" "),t("li",[e._v("Server-side rendering and universal rendering with React and Redux")]),e._v(" "),t("li",[e._v("Apollo GraphQL (docs + playground), ES2017, TypeScript, TSX support out of the box")]),e._v(" "),t("li",[e._v("Server-side development via Koa.js")])]),e._v(" "),t("h4",{attrs:{id:"contents"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#contents"}},[e._v("#")]),e._v(" Contents")]),e._v(" "),t("p"),t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#create-a-project"}},[e._v("Create a project")])]),t("li",[t("a",{attrs:{href:"#run-your-project"}},[e._v("Run your project")]),t("ul",[t("li",[t("a",{attrs:{href:"#development-mode"}},[e._v("Development mode")])]),t("li",[t("a",{attrs:{href:"#production-mode"}},[e._v("Production Mode")])]),t("li",[t("a",{attrs:{href:"#npm-scripts"}},[e._v("NPM scripts")])])])]),t("li",[t("a",{attrs:{href:"#code-styles"}},[e._v("Code Styles")])]),t("li",[t("a",{attrs:{href:"#architecture"}},[e._v("Architecture")])])])]),t("p"),e._v(" "),t("h2",{attrs:{id:"create-a-project"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#create-a-project"}},[e._v("#")]),e._v(" Create a project")]),e._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" clone git@github.com:iotexproject/pylon.git my-awesome-project\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("h2",{attrs:{id:"run-your-project"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#run-your-project"}},[e._v("#")]),e._v(" Run your project")]),e._v(" "),t("p",[e._v("This is intended for *nix users. If you use Windows, go to "),t("RouterLink",{attrs:{to:"/developer/pylon/guides.html#run-on-windows"}},[e._v("Run on Windows")]),e._v(". Let’s first prepare the environment.")],1),e._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" my-awesome-project\n\nnvm use "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("10.21")]),e._v(".0 "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# or latest LTS versions")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# prepare environment variable")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" ./.env.tmpl ./.env\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br")])]),t("h3",{attrs:{id:"development-mode"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#development-mode"}},[e._v("#")]),e._v(" Development mode")]),e._v(" "),t("p",[e._v("To run your project in development mode, run:")]),e._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("watch")]),e._v("\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("The development site will be available at "),t("a",{attrs:{href:"http://localhost:5000",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://localhost:5000"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("h3",{attrs:{id:"production-mode"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#production-mode"}},[e._v("#")]),e._v(" Production Mode")]),e._v(" "),t("p",[e._v("It’s sometimes useful to run a project in production mode, for example, to check bundle size or to debug a production-only issue. To run your project in production mode locally, run:")]),e._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run build-production\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("NODE_ENV")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("production "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run start\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br")])]),t("h3",{attrs:{id:"npm-scripts"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#npm-scripts"}},[e._v("#")]),e._v(" NPM scripts")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("npm run test")]),e._v(": test the whole project and generate a test coverage")]),e._v(" "),t("li",[t("code",[e._v("npm run ava ./path/to/test-file.js")]),e._v(": run a specific test file")]),e._v(" "),t("li",[t("code",[e._v("npm run build")]),e._v(": build source code from "),t("code",[e._v("src")]),e._v(" to "),t("code",[e._v("dist")])]),e._v(" "),t("li",[t("code",[e._v("npm run lint")]),e._v(": run the linter")]),e._v(" "),t("li",[t("code",[e._v("npm run flow")]),e._v(": run the flow type check")]),e._v(" "),t("li",[t("code",[e._v("npm run kill")]),e._v(": kill the node server occupying the port 4100.")])]),e._v(" "),t("h2",{attrs:{id:"code-styles"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#code-styles"}},[e._v("#")]),e._v(" Code Styles")]),e._v(" "),t("p",[e._v("We use prettier, tslint, and editorconfig to enforce consistent styles across the whole project, so that we will not bikeshed on coding styles in the code review.")]),e._v(" "),t("p",[e._v("However, please visit our "),t("RouterLink",{attrs:{to:"/developer/pylon/code-review-checklist.html"}},[e._v("Contributing Code")]),e._v(" before submitting your code.")],1),e._v(" "),t("h2",{attrs:{id:"architecture"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#architecture"}},[e._v("#")]),e._v(" Architecture")]),e._v(" "),t("p",[t("img",{attrs:{src:"/img/developer/pylon-arch.png",alt:"Onefx Architecture"}})]),e._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v(".\n├── README.md\n├── ava.config.js           // ava test util configuration\n├── babel.config.js         // babel compiler/transpiler configuration\n├── babel-register.js.      // babel register options\n├── config                  // project configuration\n│   ├── default.js          // base config to be extended in all env\n│   ├── development.js      // config in NODE_ENV=development\n│   ├── production.js       // config in NODE_ENV=production\n│   └── test.js             // config in NODE_ENV=test\n├── coverage                // test coverage\n├── dist                    // destination for src build result\n├── gulpfile.babel.js       // gulp task runner config\n├── package.json\n├── renovate.json           // renovate bot to automate dependency bumps\n├── server.ts               // project entry\n├── src                               // source code\n│   ├── api-gateway                   // APIs server defined in GraphQL for the clients to call\n│   │   ├── api-gateway.graphql\n│   │   ├── api-gateway.ts\n│   │   └── resolvers\n│   │       └── meta-resolver.ts\n│   ├── client                        // browser-side source code\n│   │   ├── javascripts\n│   │   │   └── main.tsx\n│   │   ├── static\n│   │   │   ├── favicon.png\n│   │   │   ├── manifest.json\n│   │   │   └── robots.txt\n│   │   └── stylesheets\n│   │       └── main.scss\n│   ├── model                         // data models\n│   │   ├── index.ts\n│   │   └── model.ts\n│   ├── server                        // onefx server\n│   │   ├── index.ts\n│   │   ├── middleware                // koa middleware\n│   │   │   ├── index.ts\n│   │   │   ├── manifest-middleware.ts\n│   │   │   └── set-middleware.ts\n│   │   ├── server-routes.tsx          // server-side routes\n│   │   └── start-server.tsx           // server initialization\n│   └── shared                        // js code shared by both the server and the client\n│       ├── app-container.ts\n│       ├── app.ts\n│       ├── common\n│       ├── home\n│       │   └── home.ts\n│       └── register-service-worker.js\n├── translations          // translations supported in this website\n│   ├── en.yaml\n│   └── zh-cn.yaml\n├── Procfile                // heroku Procfile\n└── webpack.js            // webpack bundler config\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br"),t("span",{staticClass:"line-number"},[e._v("12")]),t("br"),t("span",{staticClass:"line-number"},[e._v("13")]),t("br"),t("span",{staticClass:"line-number"},[e._v("14")]),t("br"),t("span",{staticClass:"line-number"},[e._v("15")]),t("br"),t("span",{staticClass:"line-number"},[e._v("16")]),t("br"),t("span",{staticClass:"line-number"},[e._v("17")]),t("br"),t("span",{staticClass:"line-number"},[e._v("18")]),t("br"),t("span",{staticClass:"line-number"},[e._v("19")]),t("br"),t("span",{staticClass:"line-number"},[e._v("20")]),t("br"),t("span",{staticClass:"line-number"},[e._v("21")]),t("br"),t("span",{staticClass:"line-number"},[e._v("22")]),t("br"),t("span",{staticClass:"line-number"},[e._v("23")]),t("br"),t("span",{staticClass:"line-number"},[e._v("24")]),t("br"),t("span",{staticClass:"line-number"},[e._v("25")]),t("br"),t("span",{staticClass:"line-number"},[e._v("26")]),t("br"),t("span",{staticClass:"line-number"},[e._v("27")]),t("br"),t("span",{staticClass:"line-number"},[e._v("28")]),t("br"),t("span",{staticClass:"line-number"},[e._v("29")]),t("br"),t("span",{staticClass:"line-number"},[e._v("30")]),t("br"),t("span",{staticClass:"line-number"},[e._v("31")]),t("br"),t("span",{staticClass:"line-number"},[e._v("32")]),t("br"),t("span",{staticClass:"line-number"},[e._v("33")]),t("br"),t("span",{staticClass:"line-number"},[e._v("34")]),t("br"),t("span",{staticClass:"line-number"},[e._v("35")]),t("br"),t("span",{staticClass:"line-number"},[e._v("36")]),t("br"),t("span",{staticClass:"line-number"},[e._v("37")]),t("br"),t("span",{staticClass:"line-number"},[e._v("38")]),t("br"),t("span",{staticClass:"line-number"},[e._v("39")]),t("br"),t("span",{staticClass:"line-number"},[e._v("40")]),t("br"),t("span",{staticClass:"line-number"},[e._v("41")]),t("br"),t("span",{staticClass:"line-number"},[e._v("42")]),t("br"),t("span",{staticClass:"line-number"},[e._v("43")]),t("br"),t("span",{staticClass:"line-number"},[e._v("44")]),t("br"),t("span",{staticClass:"line-number"},[e._v("45")]),t("br"),t("span",{staticClass:"line-number"},[e._v("46")]),t("br"),t("span",{staticClass:"line-number"},[e._v("47")]),t("br"),t("span",{staticClass:"line-number"},[e._v("48")]),t("br"),t("span",{staticClass:"line-number"},[e._v("49")]),t("br"),t("span",{staticClass:"line-number"},[e._v("50")]),t("br"),t("span",{staticClass:"line-number"},[e._v("51")]),t("br"),t("span",{staticClass:"line-number"},[e._v("52")]),t("br"),t("span",{staticClass:"line-number"},[e._v("53")]),t("br"),t("span",{staticClass:"line-number"},[e._v("54")]),t("br")])])])}),[],!1,null,null,null);s.default=a.exports}}]);